(this["webpackJsonpsharp-ai-extension"]=this["webpackJsonpsharp-ai-extension"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(15),o=a.n(s),c=(a(95),a(77)),i=a(78),l=a(75),d=a(149),m=a(150),u=(a(96),a(153)),x=a(141),h=a(59),g=a(26),j=a.n(g),p=a(43),b=a(68),f=a(69),O=a(79),S=a(76),v=a(29),I=a(138),y=a(139),C=a(140),T=a(152),k=a(142),N=a(55),M=a(157),w=a(151),L=a(143),A=a(146),E=a(156),P=a(147),F=a(144),G=a(145),J=a(148),R=a(135),z=a.p+"static/media/logo.ae7709ba.png",B=a.p+"static/media/google_logo.299cc304.png",D=a(6),U=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).handleSnackbar=function(e,t){"clickaway"!==t&&r.setState({openSnackbar:!r.state.openSnackbar})},r.showMessage=function(e){r.setState({snackbarText:e,openSnackbar:!0})},r.signInMethod=Object(p.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new v.a.auth.GoogleAuthProvider).addScope("profile"),e.next=5,v.a.auth().signInWithPopup(t);case 5:return e.next=7,v.a.auth().currentUser;case 7:return a=e.sent,n={displayName:a.displayName,email:a.email.replace(".","(dot)"),photoURL:a.photoURL.replace("s96-c","s500-c")},e.next=11,localStorage.setItem("user",JSON.stringify(n));case 11:return e.next=13,localStorage.setItem("proctorMode",1);case 13:return e.next=15,localStorage.setItem("isAuthenticated",!0);case 15:r.setState({isAuthenticated:!0,user:n,proctorMode:1}),e.next=27;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,localStorage.removeItem("user");case 22:return e.next=24,localStorage.removeItem("proctorMode");case 24:return e.next=26,localStorage.removeItem("isAuthenticated");case 26:console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,18]])}))),r.signOutMethod=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.auth().signOut();case 2:return e.next=4,localStorage.removeItem("user");case 4:return e.next=6,localStorage.removeItem("proctorMode");case 6:return e.next=8,localStorage.removeItem("isAuthenticated");case 8:return e.next=10,localStorage.removeItem("examCode");case 10:return e.next=12,localStorage.removeItem("flags");case 12:r.setState({isAuthenticated:!1,user:null,proctorMode:0,examCode:""});case 13:case"end":return e.stop()}}),e)}))),r.startProctoring=Object(p.a)(j.a.mark((function e(){var t,a,n,s,o,c,i,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({onProctorClicked:!0}),r.state.examCode&&0!==r.state.examCode.length){e.next=5;break}return r.showMessage("Please enter a valid Exam Code!"),r.setState({onProctorClicked:!1}),e.abrupt("return");case 5:return t=v.a.firestore(),a=t.collection("exams").doc(r.state.examCode),e.next=9,a.get();case 9:if((n=e.sent).exists){e.next=14;break}return r.showMessage("Invalid Exam Code!"),r.setState({onProctorClicked:!1}),e.abrupt("return");case 14:if(void 0!==(s=n.data()).Attendence[r.state.user.email]){e.next=19;break}return r.showMessage("You are not authorized for this Exam!"),r.setState({onProctorClicked:!1}),e.abrupt("return");case 19:if(!s.Attendence[r.state.user.email]){e.next=30;break}return o=[],e.t0=JSON,e.next=24,localStorage.getItem("flags");case 24:return e.t1=e.sent,null===(o=e.t0.parse.call(e.t0,e.t1))&&(o=[]),o.unshift({Remarks:"Rejoined Examination",Type:1,Timestamp:(new Date).getTime(),Image:""}),e.next=30,localStorage.setItem("flags",JSON.stringify(o));case 30:if(c=(new Date).getTime(),i=parseFloat(s.StartTime),l=parseFloat(s.EndTime),!(c<i-6e5)){e.next=37;break}return r.showMessage("The Exam has not started yet! You can join 10 mins prior to the start of the Exam"),r.setState({onProctorClicked:!1}),e.abrupt("return");case 37:if(!(c>l)){e.next=41;break}return r.showMessage("Exam has already Ended!"),r.setState({onProctorClicked:!1}),e.abrupt("return");case 41:return(d={})["Attendence.".concat(r.state.user.email)]=!0,e.next=45,a.update(d,{merge:!0});case 45:return e.next=47,localStorage.setItem("examCode",r.state.examCode);case 47:return e.next=49,localStorage.setItem("proctorMode",2);case 49:r.setState({onProctorClicked:!1,proctorMode:2,startTime:i,endTime:l}),r.getTimeLeft(),r.getFlags();case 52:case"end":return e.stop()}}),e)}))),r.getFlags=function(){var e=setInterval(Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("flags");case 2:t=e.sent,r.setState({flags:null==t?[]:JSON.parse(t)});case 4:case"end":return e.stop()}}),e)}))),1e4);r.setState({flagInterval:e})},r.getTimeLeft=function(){if(2===r.state.proctorMode){var e=setInterval((function(){var e=(new Date).getTime();if(e<r.state.startTime){var t=r.state.startTime-e;t=Math.floor(t/1e3);var a=Math.floor(t/86400);t-=86400*a;var n=Math.floor(t/3600)%24;t-=3600*n,n=n<10?"0"+n:n;var s=Math.floor(t/60)%60;t-=60*s,s=s<10?"0"+s:s;var o=t%60;o=o<10?"0"+o:o,r.setState({timeLeftString:"To Start: "+n+":"+s+":"+o})}else e<r.state.endTime?(t=r.state.endTime-e,t=Math.floor(t/1e3),t-=86400*(a=Math.floor(t/86400)),t-=3600*(n=Math.floor(t/3600)%24),n=n<10?"0"+n:n,t-=60*(s=Math.floor(t/60)%60),s=s<10?"0"+s:s,o=(o=t%60)<10?"0"+o:o,r.setState({timeLeftString:"Time Left: "+n+":"+s+":"+o})):(r.removeInterval(),r.setState({proctorMode:1,startTime:0,endTime:0,examCode:"",timeLeft:"",flags:[]}),localStorage.removeItem("examCode"),localStorage.removeItem("startTime"),localStorage.removeItem("endTime"),localStorage.removeItem("flags"),localStorage.setItem("proctorMode",1),r.showMessage("Your Exam has been completed!"))}),1e3);r.setState({timeInterval:e})}},r.getTimeFromStart=function(e){var t=e-r.state.startTime;t=Math.floor(t/1e3),t-=86400*Math.floor(t/86400);var a=Math.floor(t/3600)%24;t-=3600*a,a=a<10?"0"+a:a;var n=Math.floor(t/60)%60,s=(t-=60*n)%60;return a+":"+(n=n<10?"0"+n:n)+":"+(s=s<10?"0"+s:s)},r.removeInterval=function(e){clearInterval(r.state.timeInterval),clearInterval(r.state.flagInterval),r.setState({timeInterval:null,flagInterval:null})},r.handleTextFieldChange=function(e){e.target.value.length>6||r.setState(Object(h.a)(Object(h.a)({},r.state),{},{examCode:e.target.value.toUpperCase()}))},r.handleLearnButton=function(){window.open("https://sharp-ai.herokuapp.com/","_blank")},r.state={isAuthenticated:!1,user:null,proctorMode:0,examCode:"",startTime:0,endTime:0,isLoading:!0,isProctorClicked:!1,snackbarText:"",openSnackbar:!1,flags:[],timeInterval:null,flagInterval:null},r}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(j.a.mark((function e(){var t,a,r,n,s,o,c,i,l,d,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("isAuthenticated");case 2:return t=e.sent,e.t0=JSON,e.next=6,localStorage.getItem("user");case 6:return e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),e.next=10,parseInt(localStorage.getItem("proctorMode"));case 10:return r=e.sent,e.next=13,localStorage.getItem("examCode");case 13:return n=e.sent,s=0,o=0,e.next=18,localStorage.getItem("flags");case 18:if(c=e.sent,t=t||!1,n=n||"",s=s||0,o=o||0,2!==(r=r||0)){e.next=59;break}return i=v.a.firestore(),l=i.collection("exams").doc(n),e.next=29,l.get();case 29:if((d=e.sent).exists){e.next=43;break}return e.next=33,localStorage.setItem("proctorMode",1);case 33:return e.next=35,localStorage.removeItem("examCode");case 35:return e.next=37,localStorage.removeItem("flags");case 37:return r=1,s=0,o=0,c=[],this.setState({user:a,proctorMode:r,isAuthenticated:t,examCode:n,isLoading:!1,startTime:s,endTime:o,timeLeftString:"",flags:null==c?[]:JSON.parse(c)}),e.abrupt("return");case 43:if(void 0!==(m=d.data()).Attendence[a.email]){e.next=57;break}return e.next=47,localStorage.setItem("proctorMode",1);case 47:return e.next=49,localStorage.removeItem("examCode");case 49:return e.next=51,localStorage.removeItem("flags");case 51:return r=1,s=0,o=0,c=[],this.setState({user:a,proctorMode:r,isAuthenticated:t,examCode:n,isLoading:!1,startTime:s,endTime:o,timeLeftString:"",flags:null==c?[]:JSON.parse(c)}),e.abrupt("return");case 57:s=m.StartTime,o=m.EndTime;case 59:this.setState({user:a,proctorMode:r,isAuthenticated:t,examCode:n,isLoading:!1,startTime:s,endTime:o,timeLeftString:"",flags:null==c?[]:JSON.parse(c)}),2===this.state.proctorMode&&(this.getTimeLeft(),this.getFlags());case 61:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(D.jsx)(R.a,{type:"rect",className:"rectangleSkeleton"}):Object(D.jsxs)(I.a,{className:"mainCard",children:[Object(D.jsx)(y.a,{avatar:Object(D.jsx)("img",{src:z,className:"mainLogo",alt:"logo"}),title:"Sharp AI Anti Cheat",subheader:"Exam Proctoring Tool V 1.0.0"}),Object(D.jsx)(C.a,{children:0===this.state.proctorMode?Object(D.jsxs)(x.a,{children:[Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(T.a,{display:"flex",justifyContent:"center",children:Object(D.jsxs)(k.a,{onClick:this.signInMethod,className:"mainButton",variant:"contained",color:"primary",children:[Object(D.jsx)("img",{src:B,alt:"GoogleLogo",className:"homeGoogleLogo"}),"SIGN IN WITH GOOGLE"]})})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"To enable Sharp AI Extension features, please Login using your Authorized Google Account by the Instructor."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"Please contact your Instructor regarding any Examination related Queries."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"For more information or queries, email us at help@sharp-ai.com"})})]}):1===this.state.proctorMode?Object(D.jsxs)(x.a,{children:[Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"You are logged in as"})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(y.a,{avatar:Object(D.jsx)(M.a,{alt:this.state.user.displayName,src:this.state.user.photoURL}),title:this.state.user.displayName})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(T.a,{display:"flex",justifyContent:"center",children:Object(D.jsx)(w.a,{className:"examCodeTextField",label:"Exam Code",id:"outlined-size-normal",variant:"outlined",color:"secondary",onChange:this.handleTextFieldChange,value:this.state.examCode})})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"To Start Proctoring session, enter the Exam Code as provided in the Email sent to you or as provided by the Instructor."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(T.a,{display:"flex",justifyContent:"center",children:this.state.onProctorClicked?Object(D.jsx)(L.a,{color:"secondary"}):Object(D.jsxs)(k.a,{onClick:this.startProctoring,className:"mainButton",variant:"contained",color:"secondary",children:[Object(D.jsx)(F.a,{}),"START PROCTORING"]})})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"Please start Proctoring during Exam duration only."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(T.a,{display:"flex",justifyContent:"center",children:Object(D.jsxs)(k.a,{onClick:this.signOutMethod,className:"mainButton",variant:"contained",color:"primary",children:[Object(D.jsx)(G.a,{}),"LOGOUT"]})})})]}):Object(D.jsxs)(x.a,{children:[Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"You are logged in as"})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(y.a,{avatar:Object(D.jsx)(M.a,{alt:this.state.user.displayName,src:this.state.user.photoURL}),title:this.state.user.displayName})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{className:"blink",children:"\ud83d\udd34 Proctoring Enabled!"})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(T.a,{display:"flex",justifyContent:"center",children:Object(D.jsx)(N.a,{variant:"h4",children:this.state.timeLeftString})})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"Your violations will appear here. Note that if you have switched or tampered the tool, all of your flags may not be visible. They, however, are already reported to the Instructor."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem flagScroll",children:this.state.flags.map((function(t){return Object(D.jsx)(I.a,{variant:"outlined",className:1===t.Type?"flagCard type1":2===t.Type?"flagCard type2":"flagCard type3",children:Object(D.jsx)(C.a,{children:Object(D.jsxs)(T.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(D.jsx)(N.a,{variant:"body1",children:t.Remarks}),Object(D.jsx)(N.a,{variant:"caption",color:"textSecondary",children:e.getTimeFromStart(t.Timestamp)})]})})})}))}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"For any Queries, contact your Instructor."})}),Object(D.jsx)(x.a,{item:!0,xs:12,className:"gridItem",children:Object(D.jsx)(N.a,{color:"textSecondary",variant:"caption",children:"For any Information, email us at help@sharp-ai.com"})})]})}),Object(D.jsx)(A.a,{children:Object(D.jsx)(k.a,{size:"small",color:"secondary",onClick:this.handleLearnButton,children:"Learn More"})}),Object(D.jsx)(E.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.openSnackbar,autoHideDuration:6e3,onClose:this.handleSnackbar,message:this.state.snackbarText,action:Object(D.jsx)(n.a.Fragment,{children:Object(D.jsx)(P.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleSnackbar,children:Object(D.jsx)(J.a,{fontSize:"small"})})})})]})}}]),a}(r.Component),Y={apiKey:"AIzaSyAEN-f-axLwVewNmuW5IV61QnEZlrcVcuA",authDomain:"sharp-ai-anti-cheat.firebaseapp.com",projectId:"sharp-ai-anti-cheat",storageBucket:"sharp-ai-anti-cheat.appspot.com",messagingSenderId:"315494596480",appId:"1:315494596480:web:7d07f68eb6dc60f4c84b65"};v.a.initializeApp(Y);var V=function(){var e=Object(l.a)({palette:{type:"dark"}}),t=Object(r.useState)(!1),a=Object(c.a)(t,2);return a[0],a[1],Object(D.jsx)(i.a,{children:Object(D.jsxs)(d.a,{theme:e,children:[Object(D.jsx)(m.a,{}),Object(D.jsx)(u.b,{injectFirst:!0,children:Object(D.jsx)(x.a,{item:!0,xs:12,className:"mainGrid",children:Object(D.jsx)(U,{})})})]})})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,159)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),s(e),o(e)}))};o.a.render(Object(D.jsx)(n.a.StrictMode,{children:Object(D.jsx)(V,{})}),document.getElementById("root")),Q()},95:function(e,t,a){},96:function(e,t,a){}},[[106,1,2]]]);